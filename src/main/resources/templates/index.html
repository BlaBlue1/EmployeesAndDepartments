<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Index Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

<h2> Department list </h2>
<div th:each="department:${departments}">
    <h3 th:text="${department.name}"></h3>
    <a th:href="@{/updateDepartment/{id}(id=${department.id})}">Update Department</a>
    <a th:href="@{/deleteDepartment/{id}(id=${department.id})}">Delete Department</a>
    <th:block th:each="employee:${department.employees}">
        <div th:if="${employee.headshot}!=null">
            <img th:src="${employee.headshot}" width="400"><hr>
        </div>
        <div>
            <a th:inline="text">Full Name:<b>[[${employee.firstName}]] [[${employee.lastName}]] </b></a>
            <br>
            <a th:inline="text">Department:<b>[[${employee.department.name}]]</b> </a>
        </div>
        <a th:href="@{/updateEmployee/{id}(id=${employee.id})}">Update Employee</a>
        <a th:href="@{/deleteEmployee/{id}(id=${employee.id})}">Delete Employee</a>
    </th:block>
</div>
<br>
<form th:action="@{/logout}" method="post">
    <input type="submit" value="Logout">
</form>
<a th:href="@{/addDepartment}">Add Department</a>
<a th:href="@{/addEmployee}">Add Employee</a>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>